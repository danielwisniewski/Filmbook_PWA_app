<div class="app-content">
  <div class="top-bar">
    <app-top-title-panel>Wyszukaj</app-top-title-panel>
  </div>

  <div class="component-content">
    <form class="form-inline" (keyup.enter)="onKeydown(f)" #f="ngForm">
      <div class="input-group mb-2 mr-sm-2">
        <input
          type="text"
          class="form-control"
          id="searchMovie"
          name="serachMovie"
          placeholder="Wpisz tytuł filmu"
          required
          minlength="3"
          ngModel
        />
      </div>
    </form>

      <div class="serach-result h-100" *ngIf="!(isLoading$ | async) else loading">
        <div class="container h-100">
          <div
            class="row flex-column ml-2 mr-2"
            *ngIf="!f.submitted"
          >
            <p class="last-result-title">
              {{
                (lastSearchResults$ | async)
                  ? "Ostatnie wyniki"
                  : "Brak ostatnich wyników"
              }}
            </p>
            <div class="last-result-img">
              <img
                [src]="result.poster"
                *ngFor="let result of lastSearchResults$ | async"
                [routerLink]="'/detailView/' + result.id"
              />
            </div>
          </div>
          <div appTopBarElementContent>
            <app-movie-miniatures-list
              [filmData]="searchResult$ | async"
            ></app-movie-miniatures-list>
          </div>
        </div>
      </div>

  </div>

  <div class="bottom-bar">
    <app-bottom-tabs-menu></app-bottom-tabs-menu>
  </div>
</div>

<ng-template #loading>
  <app-loading-spinner> </app-loading-spinner>
</ng-template>

